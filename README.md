Tested on macOS and Linux